---
title: "Target onboardings to different user groups"
description: "Display different onboardings based on the acquisition source or other user attributes."
metadataTitle: "Target onboardings to different user groups | Adapty Docs"
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ZoomImage from '@site/src/components/ZoomImage';

You can display different onboarding flows based on user attributes: acquisition source, campaign, geography, device type, lifecycle state, or user intent. Matching onboarding content to specific user groups improves activation rates and early engagement. The setup involves both developer work and dashboard configuration.

## Before you start

- **SDK version**: Your app must use Adapty SDK v3.8.0+ (iOS, Android, React Native, Flutter), v3.14.0+ (Unity), or v3.15.0+ (Kotlin Multiplatform, Capacitor). See [Onboardings](onboardings) for details.
- **Onboardings**: Create at least two onboardings in Adapty before starting — one default and one per segment. See [Create onboarding](create-onboarding).
- **Attribution tools**: If your app uses AppsFlyer, Adjust, Branch, or another [attribution integration](attribution-integration), campaign and source data may already be available as user attributes in Adapty. You can use this data directly in segments — skip to Step 2.

## Step 1. Assign custom attributes to users *(Developer)*

Call `updateProfile` early in the user's session, before the onboarding is displayed. The attribute must be available when Adapty evaluates which onboarding to show.

<Tabs groupId="current-os" queryString>
<TabItem value="swift" label="iOS">

```swift
do {
    var builder = AdaptyProfileParameters.Builder()
    builder = try builder.with(customAttribute: "yoga", forKey: "campaign")
    try await Adapty.updateProfile(params: builder.build())
} catch {
    // handle the error
}
```

</TabItem>
<TabItem value="kotlin" label="Android">

```kotlin
val builder = AdaptyProfileParameters.Builder()
builder.withCustomAttribute("campaign", "yoga")

Adapty.updateProfile(builder.build()) { error ->
    if (error != null) {
        // handle the error
    }
}
```

</TabItem>
<TabItem value="rn" label="React Native">

```typescript
try {
  await adapty.updateProfile({
    codableCustomAttributes: {
      campaign: 'yoga',
    },
  });
} catch (error) {
  // handle `AdaptyError`
}
```

</TabItem>
<TabItem value="flutter" label="Flutter">

```dart
try {
  final builder = AdaptyProfileParametersBuilder()
    ..setCustomStringAttribute('yoga', 'campaign');
  await Adapty().updateProfile(builder.build());
} on AdaptyError catch (adaptyError) {
  // handle the error
} catch (e) {
  // handle the error
}
```

</TabItem>
<TabItem value="unity" label="Unity">

```csharp
try {
    var builder = new Adapty.ProfileParameters.Builder()
        .SetCustomStringAttribute("campaign", "yoga");

    Adapty.UpdateProfile(builder.Build(), (error) => {
        if (error != null) {
            // handle the error
        }
    });
} catch (Exception e) {
    // handle the exception
}
```

</TabItem>
<TabItem value="kmp" label="Kotlin Multiplatform">

```kotlin
import com.adapty.kmp.models.AdaptyProfileParameters

val builder = AdaptyProfileParameters.Builder()
builder.withCustomAttribute("campaign", "yoga")

Adapty.updateProfile(builder.build())
    .onSuccess {
        // profile updated successfully
    }
    .onError { error ->
        // handle the error
    }
```

</TabItem>
<TabItem value="capacitor" label="Capacitor">

```typescript
try {
  await adapty.updateProfile({
    codableCustomAttributes: {
      campaign: 'yoga',
    },
  });
} catch (error) {
  // handle the error
}
```

</TabItem>
</Tabs>

For available attribute types and key/value limits, see the set user attributes guide for your platform:
[iOS](setting-user-attributes) | [Android](android-setting-user-attributes) | [React Native](react-native-setting-user-attributes) | [Flutter](flutter-setting-user-attributes) | [Unity](unity-setting-user-attributes) | [Kotlin Multiplatform](kmp-setting-user-attributes) | [Capacitor](capacitor-setting-user-attributes)

## Step 2. Add users to segments *(Dashboard)*

Group users by the assigned attributes into [segments](segments):

1. In the dashboard, go to **Profiles & Segments** and switch to the **Segments** tab. There, click **Create segment**.
2. Fill in the segment name and description.
3. Click **Add users attributes** and select an attribute from the list.

<ZoomImage id="target-onboardings-segment.webp" width="700px" alt="Segment configured with a custom attribute filter in the Adapty Dashboard" />

4. Create one segment for each attribute you plan to use.

:::note
For a custom attribute to appear in the list, it must be assigned to at least one profile. Add a custom attribute to any profile from the Adapty Dashboard to make it available in the list.
:::

## Step 3. Set up placement *(Dashboard)*

For Adapty to decide which onboarding to display, create a placement and add all the segments as audiences to it:

1. In the dashboard, go to **Placements**, and switch to the **Onboardings** tab. There, click **Create placement**.
2. Fill in the placement name and ID.
3. Click **Run onboarding**. In the dialog, select the onboarding to show by default to users not included in any segment. Click **Submit**.

<ZoomImage id="target-onboardings-placement-default.webp" width="700px" alt="Placement with the default onboarding selected in the Adapty Dashboard" />

4. At the top right, click **Add audience**. Select a segment and the onboarding to display to users in that segment. Click **Submit**.
5. Add audiences for all the segments and onboardings you need.

<ZoomImage id="target-onboardings-placement-audiences.webp" width="700px" alt="Placement with multiple segment audiences configured in the Adapty Dashboard" />

6. Click **Save & Publish** to make this placement available to the Adapty SDK.

## Step 4. Display onboardings *(Developer)*

Use the placement ID to retrieve and display onboardings in your app. Follow the platform-specific guide:
[iOS](ios-present-onboardings) | [Android](android-present-onboardings) | [React Native](react-native-present-onboardings) | [Flutter](flutter-present-onboardings) | [Unity](unity-present-onboardings) | [Kotlin Multiplatform](kmp-present-onboardings) | [Capacitor](capacitor-present-onboardings)

:::tip
To verify targeting is working: use a test user profile with a custom attribute assigned and confirm the correct onboarding is displayed. In the Adapty Dashboard, check **Profiles & Segments** to confirm the user appears in the expected segment.
:::

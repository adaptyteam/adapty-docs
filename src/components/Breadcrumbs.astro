---
interface Props {
  items: { label: string; href?: string }[];
}

const { items } = Astro.props;

// Filter out root what-is-adapty if it's the only item or double up
const displayItems = items.filter(item => item.label?.toLowerCase() !== 'what is adapty' || items.length > 1);
---

{displayItems.length > 0 && (
  <nav class="breadcrumbs-nav" aria-label="Breadcrumb">
    <ol class="flex flex-wrap items-center pl-0 m-0">
      {displayItems.map((item, index) => (
        <li class="flex items-center">
          {index > 0 && (
            <span class="breadcrumb-separator">/</span>
          )}
          
          {item.href ? (
            <a 
              href={item.href} 
              class="breadcrumb-link"
            >
              {item.label}
            </a>
          ) : (
            <span class="breadcrumb-current">
              {item.label}
            </span>
          )}
        </li>
      ))}
    </ol>
  </nav>
)}

<style>
  .breadcrumbs-nav {
    display: flex;
    margin-bottom: 0.5rem;
  }
  
  .breadcrumb-separator {
    color: var(--text-tertiary);
    margin: 0 0.625rem;
    font-size: 11px;
    font-weight: 700;
    opacity: 0.5;
    user-select: none;
  }
  
  .breadcrumb-link {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    white-space: nowrap;
    transition: all 0.2s;
    text-decoration: none;
  }
  
  .breadcrumb-link:hover {
    color: var(--accent-primary);
  }
  
  .breadcrumb-current {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }
</style>
